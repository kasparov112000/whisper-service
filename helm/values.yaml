# Whisper Service Helm Values

replicaCount: 1

image:
  repository: kasparov112000/learnbytesting-whisper-service
  tag: latest
  pullPolicy: Always

service:
  type: ClusterIP
  port: 5000

env:
  PORT: "5000"
  WHISPER_MODEL: "tiny"  # Use tiny model for minimal resources
  WHISPER_DEVICE: "cpu"
  PRELOAD_MODEL: "false"
  PYTHONUNBUFFERED: "1"

# Minimal resources to fit in constrained cluster
resources:
  requests:
    memory: "256Mi"
    cpu: "100m"
  limits:
    memory: "1Gi"
    cpu: "1000m"

livenessProbe:
  httpGet:
    path: /health
    port: 5000
  initialDelaySeconds: 15
  periodSeconds: 30
  timeoutSeconds: 10
  failureThreshold: 5

readinessProbe:
  httpGet:
    path: /health
    port: 5000
  initialDelaySeconds: 5
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 5

nodeSelector: {}

tolerations:
  - key: "node.kubernetes.io/memory-pressure"
    operator: "Exists"
    effect: "NoSchedule"

affinity: {}
