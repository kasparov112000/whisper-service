# Whisper Service Helm Values

replicaCount: 1

image:
  repository: kasparov112000/learnbytesting-whisper-service
  tag: latest
  pullPolicy: Always

service:
  type: ClusterIP
  port: 5000

env:
  PORT: "5000"
  WHISPER_MODEL: "base"
  WHISPER_DEVICE: "cpu"
  PRELOAD_MODEL: "false"  # Don't preload - load on first request instead
  PYTHONUNBUFFERED: "1"

resources:
  requests:
    memory: "2Gi"
    cpu: "500m"
  limits:
    memory: "4Gi"
    cpu: "2000m"

# Longer startup time for model download
livenessProbe:
  httpGet:
    path: /health
    port: 5000
  initialDelaySeconds: 30
  periodSeconds: 30
  timeoutSeconds: 10
  failureThreshold: 5

readinessProbe:
  httpGet:
    path: /health
    port: 5000
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 5

nodeSelector: {}

tolerations: []

affinity: {}
